# ===========================================
# TMDB DISCOVER+ ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# 1. CORE API KEY
# ===========================================
# Your api key from https://www.themoviedb.org/settings/api
TMDB_API_KEY=your_tmdb_api_key_here

# RPDB API Key (Free tier key: t0-free-rpdb)
RPDB_API_KEY=t0-free-rpdb

# ===========================================
# 2. SECURITY SECRETS
# ===========================================
# Secret key for signing JWT tokens (Required, minimum 32 characters)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-random-32-char-secret-here

# Encryption key for encrypting API keys at rest (Required, must be a 64-character hex string)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-random-64-hex-char-encryption-key

# ===========================================
# 3. DATABASE CONFIGURATION
# ===========================================
# Database Driver
# Options: postgres, mongo, memory
# 'memory' is ephemeral (data lost on restart) but requires no setup
DATABASE_DRIVER=postgres

# Postgres Connection String (Required if DATABASE_DRIVER=postgres)
# POSTGRES_URI=postgres://postgres:postgres@localhost:5432/tmdb_discover

# MongoDB Connection String (Required if DATABASE_DRIVER=mongo)
# MONGODB_URI=mongodb://mongo:27017/tmdb-discover-plus

# ===========================================
# 4. CACHE CONFIGURATION
# ===========================================
# Cache Driver
# Options: redis, memory
CACHE_DRIVER=redis

# Redis Connection String (Required if CACHE_DRIVER=redis)
# REDIS_URL=redis://localhost:6379

# ===========================================
# 5. SERVER SETTINGS
# ===========================================
# Server port (default: 7000)
PORT=7000

# Base URL for manifest and install URLs (auto-detected if not set)
# Required for deployment platforms that don't forward Host headers correctly (e.g., beamup)
# Example: https://your-addon.baby-beamup.club
# BASE_URL=
# ADDON_VARIANT=nightly

# Addon Variant (optional)
# Set to 'nightly' to change the addon ID and name for development/testing instances.
# Results in ID: community.tmdb.discover.plus.nightly and Name: TMDB Discover+ (Nightly)
# If not set, defaults to the stable version.
# ADDON_VARIANT=

# Logging level: debug, info, warn, error
LOG_LEVEL=info

# CORS configuration (default: * allows all origins)
CORS_ORIGIN=*

# ===========================================
# 6. IMDb API (RapidAPI) - OPTIONAL
# ===========================================
# Enables IMDb-powered catalogs (discover, top 250, popular, custom lists)
# IMDB_API_KEY=your_rapidapi_key_here
# IMDB_API_HOST=your_rapidapi_host_here
# IMDB_RATE_LIMIT=5
# IMDB_BUDGET_MONTHLY=500000
# IMDB_BUDGET_WARN_PERCENT=80
# IMDB_BUDGET_LIMIT_PERCENT=95

